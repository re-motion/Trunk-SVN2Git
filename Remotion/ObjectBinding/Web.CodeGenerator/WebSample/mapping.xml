<?xml version="1.0" encoding="UTF-8" ?>
<mapping application="PhoneBook" 
    xmlns="http://www.re-motion.org/Data/DomainObjects/Mapping/1.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://www.re-motion.org/Data/DomainObjects/Mapping/1.0 mapping.xsd">
  <classes>
    <class id="Person">
      <type>DomainSample.Person, DomainSample</type>
      <entity name="Person" />
      <storageProviderID>PhoneBookDB</storageProviderID>
      <properties>
        <property name="FirstName">
          <type>string</type>
          <column>FirstName</column>
          <nullable>true</nullable>
          <maxLength>255</maxLength>
        </property>
        <property name="LastName">
          <type>string</type>
          <column>LastName</column>
          <maxLength>255</maxLength>
        </property>
        <property name="EMailAddress">
          <type>string</type>
          <column>EMailAddress</column>
          <nullable>true</nullable>
          <maxLength>255</maxLength>
        </property>

			<!-- Unidirectional relation -->
        <relationProperty name="Location" relationID="LocationToPerson" cardinality="one" isMandatory="false">
          <column>Location</column>
          <oppositeClass>Location</oppositeClass>  
        </relationProperty>
        
        <!-- Bidirectional relation -->
        <relationProperty name="PhoneNumbers" relationID="PersonToPhoneNumber" cardinality="many" isMandatory="false">
          <collectionType>DomainSample.PhoneNumberCollection, DomainSample</collectionType>
          <sortExpression>CountryCode ASC, AreaCode ASC, Number ASC, Extension ASC</sortExpression>
        </relationProperty>

      </properties>
    </class>

    <class id="Location">
      <type>DomainSample.Location, DomainSample</type>
      <entity name="Location" />
      <storageProviderID>PhoneBookDB</storageProviderID>
      <properties>
        <property name="Name">
          <type>string</type>
          <column>Name</column>
          <maxLength>255</maxLength>
        </property>
        <property name="ZipCode">
          <type>string</type>
          <column>ZipCode</column>
          <nullable>true</nullable>
          <maxLength>12</maxLength>
        </property>
        <property name="City">
          <type>string</type>
          <column>City</column>
          <nullable>true</nullable>
          <maxLength>255</maxLength>
        </property>
        <property name="Street">
          <type>string</type>
          <column>Street</column>
          <nullable>true</nullable>
          <maxLength>255</maxLength>
        </property>

			<!-- Property with an enumerated type -->
        <property name="Country">
          <type>DomainSample.Country, DomainSample</type>
          <column>Country</column>
          <nullable>true</nullable>
        </property>
      </properties>
    </class>

    <class id="PhoneNumber">
      <type>DomainSample.PhoneNumber, DomainSample</type>
      <entity name="PhoneNumber" />
      <storageProviderID>PhoneBookDB</storageProviderID>
      <properties>
        <property name="CountryCode">
          <type>string</type>
          <column>CountryCode</column>
          <nullable>true</nullable>
          <maxLength>6</maxLength>
        </property>
        <property name="AreaCode">
          <type>string</type>
          <column>AreaCode</column>
          <nullable>true</nullable>
          <maxLength>6</maxLength>
        </property>
        <property name="Number">
          <type>string</type>
          <column>Number</column>
          <maxLength>80</maxLength>
        </property>
        <property name="Extension">
          <type>string</type>
          <column>Extension</column>
          <nullable>true</nullable>
          <maxLength>6</maxLength>
        </property>
        
        <!-- Bidirectional relation -->
        <relationProperty name="Person" relationID="PersonToPhoneNumber" cardinality="one" isMandatory="true">
          <column>Person</column>
        </relationProperty>
        
      </properties>
    </class>
  </classes>
</mapping>
